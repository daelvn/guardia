<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>guardia/guards.lua</title>
<style type="text/css">
/* highlight theme: Base16 Nord */
body.hl	{ background-color:#2e3440; }
pre.hl	{ color:#e5e9f0; background-color:#2e3440; font-size:10pt; font-family:'Courier New',monospace;}
.hl.num { color:#81a1c1; }
.hl.esc { color:#d08770; }
.hl.str { color:#bf616a; }
.hl.pps { color:#d08770; }
.hl.slc { color:#4c566a; font-style:italic; }
.hl.com { color:#4c566a; font-style:italic; }
.hl.ppc { color:#b48ead; }
.hl.opt { color:#e5e9f0; }
.hl.ipl { color:#81a1c1; }
.hl.lin { color:#d8dee9; }
.hl.kwa { color:#a3be8c; font-weight:bold; }
.hl.kwb { color:#ebcb8b; font-weight:bold; }
.hl.kwc { color:#88c0d0; font-weight:bold; }
.hl.kwd { color:#5e81ac; font-weight:bold; }
.hl.kwe { color:#b48ead; font-weight:bold; }
.hl.kwf { color:#81a1c1; font-weight:bold; }
</style>
</head>
<body class="hl">
<pre class="hl"><span class="hl lin" id="L_1">    1 </span><span class="hl kwa">local</span> Guard<span class="hl opt">,</span> Antiguard<span class="hl opt">,</span> Biguard<span class="hl opt">,</span> Endguard<span class="hl opt">,</span> Errguard<span class="hl opt">,</span> Antierrguard<span class="hl opt">,</span> Enderrguard
<span class="hl lin" id="L_2">    2 </span><span class="hl kwa">do</span>
<span class="hl lin" id="L_3">    3 </span>  <span class="hl kwa">local</span> _obj_0 <span class="hl opt">=</span> <span class="hl kwd">require</span><span class="hl opt">(</span><span class="hl str">&quot;guardia&quot;</span><span class="hl opt">)</span>
<span class="hl lin" id="L_4">    4 </span>  Guard<span class="hl opt">,</span> Antiguard<span class="hl opt">,</span> Biguard<span class="hl opt">,</span> Endguard<span class="hl opt">,</span> Errguard<span class="hl opt">,</span> Antierrguard<span class="hl opt">,</span> Enderrguard <span class="hl opt">=</span> _obj_0<span class="hl opt">.</span>Guard<span class="hl opt">,</span> _obj_0<span class="hl opt">.</span>Antiguard<span class="hl opt">,</span> _obj_0<span class="hl opt">.</span>Biguard<span class="hl opt">,</span> _obj_0<span class="hl opt">.</span>Endguard<span class="hl opt">,</span> _obj_0<span class="hl opt">.</span>Errguard<span class="hl opt">,</span> _obj_0<span class="hl opt">.</span>Antierrguard<span class="hl opt">,</span> _obj_0<span class="hl opt">.</span>Enderrguard
<span class="hl lin" id="L_5">    5 </span><span class="hl kwa">end</span>
<span class="hl lin" id="L_6">    6 </span><span class="hl kwa">local</span> id
<span class="hl lin" id="L_7">    7 </span>id <span class="hl opt">=</span> <span class="hl kwa">function</span><span class="hl opt">(...)</span>
<span class="hl lin" id="L_8">    8 </span>  <span class="hl kwa">return</span> <span class="hl opt">...</span>
<span class="hl lin" id="L_9">    9 </span><span class="hl kwa">end</span>
<span class="hl lin" id="L_10">   10 </span><span class="hl kwa">local</span> gm<span class="hl opt">,</span> sm <span class="hl opt">=</span> getmetatable<span class="hl opt">,</span> setmetatable
<span class="hl lin" id="L_11">   11 </span><span class="hl kwa">local</span> _isType
<span class="hl lin" id="L_12">   12 </span>_isType <span class="hl opt">=</span> <span class="hl kwa">function</span><span class="hl opt">(</span>ty<span class="hl opt">,</span> t<span class="hl opt">)</span>
<span class="hl lin" id="L_13">   13 </span>  <span class="hl kwa">if</span> t <span class="hl opt">==</span> <span class="hl kwa">nil then</span>
<span class="hl lin" id="L_14">   14 </span>    t <span class="hl opt">=</span> <span class="hl kwb">type</span>
<span class="hl lin" id="L_15">   15 </span>  <span class="hl kwa">end</span>
<span class="hl lin" id="L_16">   16 </span>  <span class="hl kwa">return function</span><span class="hl opt">(</span>v<span class="hl opt">)</span>
<span class="hl lin" id="L_17">   17 </span>    <span class="hl kwa">if</span> <span class="hl opt">(</span><span class="hl str">&quot;table&quot;</span> <span class="hl opt">==</span> <span class="hl kwd">t</span><span class="hl opt">(</span>v<span class="hl opt">))</span> <span class="hl kwa">and</span> <span class="hl opt">(</span><span class="hl kwd">gm</span><span class="hl opt">(</span>v<span class="hl opt">)).</span>__type <span class="hl kwa">then</span>
<span class="hl lin" id="L_18">   18 </span>      <span class="hl kwa">local</span> _exp_0 <span class="hl opt">=</span> <span class="hl kwd">t</span><span class="hl opt">((</span><span class="hl kwd">gm</span><span class="hl opt">(</span>v<span class="hl opt">)).</span>__type<span class="hl opt">)</span>
<span class="hl lin" id="L_19">   19 </span>      <span class="hl kwa">if</span> <span class="hl str">&quot;string&quot;</span> <span class="hl opt">==</span> _exp_0 <span class="hl kwa">then</span>
<span class="hl lin" id="L_20">   20 </span>        <span class="hl kwa">return</span> ty <span class="hl opt">== (</span><span class="hl kwd">gm</span><span class="hl opt">(</span>v<span class="hl opt">)).</span>__type
<span class="hl lin" id="L_21">   21 </span>      <span class="hl kwa">elseif</span> <span class="hl str">&quot;function&quot;</span> <span class="hl opt">==</span> _exp_0 <span class="hl kwa">then</span>
<span class="hl lin" id="L_22">   22 </span>        <span class="hl kwa">return</span> ty <span class="hl opt">== ((</span><span class="hl kwd">gm</span><span class="hl opt">(</span>v<span class="hl opt">)).</span>__type<span class="hl opt">)()</span>
<span class="hl lin" id="L_23">   23 </span>      <span class="hl kwa">else</span>
<span class="hl lin" id="L_24">   24 </span>        <span class="hl kwa">return</span> ty <span class="hl opt">==</span> <span class="hl kwd">t</span><span class="hl opt">(</span>v<span class="hl opt">)</span>
<span class="hl lin" id="L_25">   25 </span>      <span class="hl kwa">end</span>
<span class="hl lin" id="L_26">   26 </span>    <span class="hl kwa">else</span>
<span class="hl lin" id="L_27">   27 </span>      <span class="hl kwa">return</span> ty <span class="hl opt">==</span> <span class="hl kwd">t</span><span class="hl opt">(</span>v<span class="hl opt">)</span>
<span class="hl lin" id="L_28">   28 </span>    <span class="hl kwa">end</span>
<span class="hl lin" id="L_29">   29 </span>  <span class="hl kwa">end</span>
<span class="hl lin" id="L_30">   30 </span><span class="hl kwa">end</span>
<span class="hl lin" id="L_31">   31 </span><span class="hl kwa">local</span> getsType
<span class="hl lin" id="L_32">   32 </span>getsType <span class="hl opt">=</span> <span class="hl kwa">function</span><span class="hl opt">(</span>ty<span class="hl opt">,</span> t<span class="hl opt">)</span>
<span class="hl lin" id="L_33">   33 </span>  <span class="hl kwa">if</span> t <span class="hl opt">==</span> <span class="hl kwa">nil then</span>
<span class="hl lin" id="L_34">   34 </span>    t <span class="hl opt">=</span> <span class="hl kwb">type</span>
<span class="hl lin" id="L_35">   35 </span>  <span class="hl kwa">end</span>
<span class="hl lin" id="L_36">   36 </span>  <span class="hl kwa">return</span> <span class="hl opt">(</span><span class="hl kwd">Errguard</span><span class="hl opt">(</span><span class="hl kwd">_isType</span><span class="hl opt">(</span>ty<span class="hl opt">,</span> t<span class="hl opt">)))(</span>id<span class="hl opt">)</span>
<span class="hl lin" id="L_37">   37 </span><span class="hl kwa">end</span>
<span class="hl lin" id="L_38">   38 </span><span class="hl kwa">local</span> _baseTypes <span class="hl opt">= {</span>
<span class="hl lin" id="L_39">   39 </span>  <span class="hl str">&quot;number&quot;</span><span class="hl opt">,</span>
<span class="hl lin" id="L_40">   40 </span>  <span class="hl str">&quot;string&quot;</span><span class="hl opt">,</span>
<span class="hl lin" id="L_41">   41 </span>  <span class="hl str">&quot;function&quot;</span><span class="hl opt">,</span>
<span class="hl lin" id="L_42">   42 </span>  <span class="hl str">&quot;thread&quot;</span><span class="hl opt">,</span>
<span class="hl lin" id="L_43">   43 </span>  <span class="hl str">&quot;userdata&quot;</span><span class="hl opt">,</span>
<span class="hl lin" id="L_44">   44 </span>  <span class="hl str">&quot;nil&quot;</span><span class="hl opt">,</span>
<span class="hl lin" id="L_45">   45 </span>  <span class="hl str">&quot;boolean&quot;</span><span class="hl opt">,</span>
<span class="hl lin" id="L_46">   46 </span>  <span class="hl str">&quot;table&quot;</span>
<span class="hl lin" id="L_47">   47 </span><span class="hl opt">}</span>
<span class="hl lin" id="L_48">   48 </span><span class="hl kwa">local</span> _capitalize
<span class="hl lin" id="L_49">   49 </span>_capitalize <span class="hl opt">=</span> <span class="hl kwa">function</span><span class="hl opt">(</span>v<span class="hl opt">)</span>
<span class="hl lin" id="L_50">   50 </span>  <span class="hl kwa">return</span> <span class="hl opt">(</span><span class="hl kwb">string</span><span class="hl opt">.</span><span class="hl kwd">upper</span><span class="hl opt">(</span><span class="hl kwb">string</span><span class="hl opt">.</span><span class="hl kwd">sub</span><span class="hl opt">(</span>v<span class="hl opt">,</span> <span class="hl num">1</span><span class="hl opt">,</span> <span class="hl num">1</span><span class="hl opt">))) ..</span> <span class="hl kwb">string</span><span class="hl opt">.</span><span class="hl kwd">sub</span><span class="hl opt">(</span>v<span class="hl opt">,</span> <span class="hl num">2</span><span class="hl opt">)</span>
<span class="hl lin" id="L_51">   51 </span><span class="hl kwa">end</span>
<span class="hl lin" id="L_52">   52 </span><span class="hl kwa">local</span> _typeGuards
<span class="hl lin" id="L_53">   53 </span><span class="hl kwa">do</span>
<span class="hl lin" id="L_54">   54 </span>  <span class="hl kwa">local</span> _tbl_0 <span class="hl opt">= { }</span>
<span class="hl lin" id="L_55">   55 </span>  <span class="hl kwa">for</span> _index_0 <span class="hl opt">=</span> <span class="hl num">1</span><span class="hl opt">, #</span>_baseTypes <span class="hl kwa">do</span>
<span class="hl lin" id="L_56">   56 </span>    <span class="hl kwa">local</span> v <span class="hl opt">=</span> _baseTypes<span class="hl opt">[</span>_index_0<span class="hl opt">]</span>
<span class="hl lin" id="L_57">   57 </span>    _tbl_0<span class="hl opt">[(</span><span class="hl str">&quot;gets&quot;</span> <span class="hl opt">..</span> <span class="hl kwd">_capitalize</span><span class="hl opt">(</span>v<span class="hl opt">))] = (</span><span class="hl kwd">getsType</span><span class="hl opt">(</span>v<span class="hl opt">))</span>
<span class="hl lin" id="L_58">   58 </span>  <span class="hl kwa">end</span>
<span class="hl lin" id="L_59">   59 </span>  _typeGuards <span class="hl opt">=</span> _tbl_0
<span class="hl lin" id="L_60">   60 </span><span class="hl kwa">end</span>
<span class="hl lin" id="L_61">   61 </span><span class="hl kwa">local</span> getsNumber<span class="hl opt">,</span> getsString<span class="hl opt">,</span> getsFunction<span class="hl opt">,</span> getsThread<span class="hl opt">,</span> getsUserdata<span class="hl opt">,</span> getsNil<span class="hl opt">,</span> getsBoolean<span class="hl opt">,</span> getsTable
<span class="hl lin" id="L_62">   62 </span>getsNumber<span class="hl opt">,</span> getsString<span class="hl opt">,</span> getsFunction<span class="hl opt">,</span> getsThread<span class="hl opt">,</span> getsUserdata<span class="hl opt">,</span> getsNil<span class="hl opt">,</span> getsBoolean<span class="hl opt">,</span> getsTable <span class="hl opt">=</span> _typeGuards<span class="hl opt">.</span>getsNumber<span class="hl opt">,</span> _typeGuards<span class="hl opt">.</span>getsString<span class="hl opt">,</span> _typeGuards<span class="hl opt">.</span>getsFunction<span class="hl opt">,</span> _typeGuards<span class="hl opt">.</span>getsThread<span class="hl opt">,</span> _typeGuards<span class="hl opt">.</span>getsUserdata<span class="hl opt">,</span> _typeGuards<span class="hl opt">.</span>getsNil<span class="hl opt">,</span> _typeGuards<span class="hl opt">.</span>getsBoolean<span class="hl opt">,</span> _typeGuards<span class="hl opt">.</span>getsTable
<span class="hl lin" id="L_63">   63 </span><span class="hl kwa">local</span> expectsType
<span class="hl lin" id="L_64">   64 </span>expectsType <span class="hl opt">=</span> <span class="hl kwa">function</span><span class="hl opt">(</span>ty<span class="hl opt">,</span> t<span class="hl opt">)</span>
<span class="hl lin" id="L_65">   65 </span>  <span class="hl kwa">if</span> t <span class="hl opt">==</span> <span class="hl kwa">nil then</span>
<span class="hl lin" id="L_66">   66 </span>    t <span class="hl opt">=</span> <span class="hl kwb">type</span>
<span class="hl lin" id="L_67">   67 </span>  <span class="hl kwa">end</span>
<span class="hl lin" id="L_68">   68 </span>  <span class="hl kwa">return</span> <span class="hl opt">(</span><span class="hl kwd">Enderrguard</span><span class="hl opt">(</span><span class="hl kwd">_isType</span><span class="hl opt">(</span>ty<span class="hl opt">,</span> t<span class="hl opt">)))(</span>id<span class="hl opt">)</span>
<span class="hl lin" id="L_69">   69 </span><span class="hl kwa">end</span>
<span class="hl lin" id="L_70">   70 </span><span class="hl kwa">local</span> _typeEndguards
<span class="hl lin" id="L_71">   71 </span><span class="hl kwa">do</span>
<span class="hl lin" id="L_72">   72 </span>  <span class="hl kwa">local</span> _tbl_0 <span class="hl opt">= { }</span>
<span class="hl lin" id="L_73">   73 </span>  <span class="hl kwa">for</span> _index_0 <span class="hl opt">=</span> <span class="hl num">1</span><span class="hl opt">, #</span>_baseTypes <span class="hl kwa">do</span>
<span class="hl lin" id="L_74">   74 </span>    <span class="hl kwa">local</span> v <span class="hl opt">=</span> _baseTypes<span class="hl opt">[</span>_index_0<span class="hl opt">]</span>
<span class="hl lin" id="L_75">   75 </span>    _tbl_0<span class="hl opt">[(</span><span class="hl str">&quot;expects&quot;</span> <span class="hl opt">..</span> <span class="hl kwd">_capitalize</span><span class="hl opt">(</span>v<span class="hl opt">))] = (</span><span class="hl kwd">expectsType</span><span class="hl opt">(</span>v<span class="hl opt">))</span>
<span class="hl lin" id="L_76">   76 </span>  <span class="hl kwa">end</span>
<span class="hl lin" id="L_77">   77 </span>  _typeEndguards <span class="hl opt">=</span> _tbl_0
<span class="hl lin" id="L_78">   78 </span><span class="hl kwa">end</span>
<span class="hl lin" id="L_79">   79 </span><span class="hl kwa">local</span> expectsNumber<span class="hl opt">,</span> expectsString<span class="hl opt">,</span> expectsFunction<span class="hl opt">,</span> expectsThread<span class="hl opt">,</span> expectsUserdata<span class="hl opt">,</span> expectsNil<span class="hl opt">,</span> expectsBoolean<span class="hl opt">,</span> expectsTable
<span class="hl lin" id="L_80">   80 </span>expectsNumber<span class="hl opt">,</span> expectsString<span class="hl opt">,</span> expectsFunction<span class="hl opt">,</span> expectsThread<span class="hl opt">,</span> expectsUserdata<span class="hl opt">,</span> expectsNil<span class="hl opt">,</span> expectsBoolean<span class="hl opt">,</span> expectsTable <span class="hl opt">=</span> _typeGuards<span class="hl opt">.</span>expectsNumber<span class="hl opt">,</span> _typeGuards<span class="hl opt">.</span>expectsString<span class="hl opt">,</span> _typeGuards<span class="hl opt">.</span>expectsFunction<span class="hl opt">,</span> _typeGuards<span class="hl opt">.</span>expectsThread<span class="hl opt">,</span> _typeGuards<span class="hl opt">.</span>expectsUserdata<span class="hl opt">,</span> _typeGuards<span class="hl opt">.</span>expectsNil<span class="hl opt">,</span> _typeGuards<span class="hl opt">.</span>expectsBoolean<span class="hl opt">,</span> _typeGuards<span class="hl opt">.</span>expectsTable
<span class="hl lin" id="L_81">   81 </span><span class="hl kwa">local</span> exceptType
<span class="hl lin" id="L_82">   82 </span>exceptType <span class="hl opt">=</span> <span class="hl kwa">function</span><span class="hl opt">(</span>ty<span class="hl opt">,</span> t<span class="hl opt">)</span>
<span class="hl lin" id="L_83">   83 </span>  <span class="hl kwa">if</span> t <span class="hl opt">==</span> <span class="hl kwa">nil then</span>
<span class="hl lin" id="L_84">   84 </span>    t <span class="hl opt">=</span> <span class="hl kwb">type</span>
<span class="hl lin" id="L_85">   85 </span>  <span class="hl kwa">end</span>
<span class="hl lin" id="L_86">   86 </span>  <span class="hl kwa">return</span> <span class="hl opt">(</span><span class="hl kwd">Antierrguard</span><span class="hl opt">(</span><span class="hl kwd">_isType</span><span class="hl opt">(</span>ty<span class="hl opt">,</span> t<span class="hl opt">)))(</span>id<span class="hl opt">)</span>
<span class="hl lin" id="L_87">   87 </span><span class="hl kwa">end</span>
<span class="hl lin" id="L_88">   88 </span><span class="hl kwa">local</span> __typeAntiguards
<span class="hl lin" id="L_89">   89 </span><span class="hl kwa">do</span>
<span class="hl lin" id="L_90">   90 </span>  <span class="hl kwa">local</span> _tbl_0 <span class="hl opt">= { }</span>
<span class="hl lin" id="L_91">   91 </span>  <span class="hl kwa">for</span> _index_0 <span class="hl opt">=</span> <span class="hl num">1</span><span class="hl opt">, #</span>_baseTypes <span class="hl kwa">do</span>
<span class="hl lin" id="L_92">   92 </span>    <span class="hl kwa">local</span> v <span class="hl opt">=</span> _baseTypes<span class="hl opt">[</span>_index_0<span class="hl opt">]</span>
<span class="hl lin" id="L_93">   93 </span>    _tbl_0<span class="hl opt">[(</span><span class="hl str">&quot;except&quot;</span> <span class="hl opt">..</span> <span class="hl kwd">_capitalize</span><span class="hl opt">(</span>v<span class="hl opt">))] = (</span><span class="hl kwd">exceptType</span><span class="hl opt">(</span>v<span class="hl opt">))</span>
<span class="hl lin" id="L_94">   94 </span>  <span class="hl kwa">end</span>
<span class="hl lin" id="L_95">   95 </span>  __typeAntiguards <span class="hl opt">=</span> _tbl_0
<span class="hl lin" id="L_96">   96 </span><span class="hl kwa">end</span>
<span class="hl lin" id="L_97">   97 </span><span class="hl kwa">local</span> exceptNumber<span class="hl opt">,</span> exceptString<span class="hl opt">,</span> exceptFunction<span class="hl opt">,</span> exceptThread<span class="hl opt">,</span> exceptUserdata<span class="hl opt">,</span> exceptNil<span class="hl opt">,</span> exceptBoolean<span class="hl opt">,</span> exceptTable
<span class="hl lin" id="L_98">   98 </span>exceptNumber<span class="hl opt">,</span> exceptString<span class="hl opt">,</span> exceptFunction<span class="hl opt">,</span> exceptThread<span class="hl opt">,</span> exceptUserdata<span class="hl opt">,</span> exceptNil<span class="hl opt">,</span> exceptBoolean<span class="hl opt">,</span> exceptTable <span class="hl opt">=</span> _typeGuards<span class="hl opt">.</span>exceptNumber<span class="hl opt">,</span> _typeGuards<span class="hl opt">.</span>exceptString<span class="hl opt">,</span> _typeGuards<span class="hl opt">.</span>exceptFunction<span class="hl opt">,</span> _typeGuards<span class="hl opt">.</span>exceptThread<span class="hl opt">,</span> _typeGuards<span class="hl opt">.</span>exceptUserdata<span class="hl opt">,</span> _typeGuards<span class="hl opt">.</span>exceptNil<span class="hl opt">,</span> _typeGuards<span class="hl opt">.</span>exceptBoolean<span class="hl opt">,</span> _typeGuards<span class="hl opt">.</span>exceptTable
<span class="hl lin" id="L_99">   99 </span><span class="hl kwa">local</span> getsStringForced
<span class="hl lin" id="L_100">  100 </span>getsStringForced <span class="hl opt">=</span> <span class="hl kwa">function</span><span class="hl opt">()</span>
<span class="hl lin" id="L_101">  101 </span>  <span class="hl kwa">return</span> <span class="hl opt">(</span><span class="hl kwd">Guard</span><span class="hl opt">(</span><span class="hl kwa">function</span><span class="hl opt">()</span>
<span class="hl lin" id="L_102">  102 </span>    <span class="hl kwa">return true</span>
<span class="hl lin" id="L_103">  103 </span>  <span class="hl kwa">end</span><span class="hl opt">))(</span><span class="hl kwa">function</span><span class="hl opt">(</span>v<span class="hl opt">)</span>
<span class="hl lin" id="L_104">  104 </span>    <span class="hl kwa">return</span> <span class="hl kwb">tostring</span><span class="hl opt">(</span>v<span class="hl opt">)</span>
<span class="hl lin" id="L_105">  105 </span>  <span class="hl kwa">end</span><span class="hl opt">)</span>
<span class="hl lin" id="L_106">  106 </span><span class="hl kwa">end</span>
<span class="hl lin" id="L_107">  107 </span><span class="hl kwa">local</span> getsOdd
<span class="hl lin" id="L_108">  108 </span>getsOdd <span class="hl opt">=</span> <span class="hl kwa">function</span><span class="hl opt">()</span>
<span class="hl lin" id="L_109">  109 </span>  <span class="hl kwa">return</span> <span class="hl opt">(</span><span class="hl kwd">Guard</span><span class="hl opt">(</span><span class="hl kwa">function</span><span class="hl opt">(</span>n<span class="hl opt">)</span>
<span class="hl lin" id="L_110">  110 </span>    <span class="hl kwa">return</span> n <span class="hl opt">%</span> <span class="hl num">2</span> <span class="hl opt">==</span> <span class="hl num">0</span>
<span class="hl lin" id="L_111">  111 </span>  <span class="hl kwa">end</span><span class="hl opt">))(</span>id<span class="hl opt">)</span>
<span class="hl lin" id="L_112">  112 </span><span class="hl kwa">end</span>
<span class="hl lin" id="L_113">  113 </span><span class="hl kwa">local</span> getsEven
<span class="hl lin" id="L_114">  114 </span>getsEven <span class="hl opt">=</span> <span class="hl kwa">function</span><span class="hl opt">()</span>
<span class="hl lin" id="L_115">  115 </span>  <span class="hl kwa">return</span> <span class="hl opt">(</span><span class="hl kwd">Antiguard</span><span class="hl opt">(</span><span class="hl kwa">function</span><span class="hl opt">(</span>n<span class="hl opt">)</span>
<span class="hl lin" id="L_116">  116 </span>    <span class="hl kwa">return</span> n <span class="hl opt">%</span> <span class="hl num">2</span> <span class="hl opt">==</span> <span class="hl num">0</span>
<span class="hl lin" id="L_117">  117 </span>  <span class="hl kwa">end</span><span class="hl opt">))(</span>id<span class="hl opt">)</span>
<span class="hl lin" id="L_118">  118 </span><span class="hl kwa">end</span>
<span class="hl lin" id="L_119">  119 </span><span class="hl kwa">return</span> <span class="hl opt">{</span>
<span class="hl lin" id="L_120">  120 </span>  getsType <span class="hl opt">=</span> getsType<span class="hl opt">,</span>
<span class="hl lin" id="L_121">  121 </span>  getsNumber <span class="hl opt">=</span> getsNumber<span class="hl opt">,</span>
<span class="hl lin" id="L_122">  122 </span>  getsString <span class="hl opt">=</span> getsString<span class="hl opt">,</span>
<span class="hl lin" id="L_123">  123 </span>  getsFunction <span class="hl opt">=</span> getsFunction<span class="hl opt">,</span>
<span class="hl lin" id="L_124">  124 </span>  getsThread <span class="hl opt">=</span> getsThread<span class="hl opt">,</span>
<span class="hl lin" id="L_125">  125 </span>  getsUserdata <span class="hl opt">=</span> getsUserdata<span class="hl opt">,</span>
<span class="hl lin" id="L_126">  126 </span>  getsNil <span class="hl opt">=</span> getsNil<span class="hl opt">,</span>
<span class="hl lin" id="L_127">  127 </span>  getsBoolean <span class="hl opt">=</span> getsBoolean<span class="hl opt">,</span>
<span class="hl lin" id="L_128">  128 </span>  getsTable <span class="hl opt">=</span> getsTable<span class="hl opt">,</span>
<span class="hl lin" id="L_129">  129 </span>  expectsType <span class="hl opt">=</span> expectsType<span class="hl opt">,</span>
<span class="hl lin" id="L_130">  130 </span>  expectsNumber <span class="hl opt">=</span> expectsNumber<span class="hl opt">,</span>
<span class="hl lin" id="L_131">  131 </span>  expectsString <span class="hl opt">=</span> expectsString<span class="hl opt">,</span>
<span class="hl lin" id="L_132">  132 </span>  expectsFunction <span class="hl opt">=</span> expectsFunction<span class="hl opt">,</span>
<span class="hl lin" id="L_133">  133 </span>  expectsThread <span class="hl opt">=</span> expectsThread<span class="hl opt">,</span>
<span class="hl lin" id="L_134">  134 </span>  expectsUserdata <span class="hl opt">=</span> expectsUserdata<span class="hl opt">,</span>
<span class="hl lin" id="L_135">  135 </span>  expectsNil <span class="hl opt">=</span> expectsNil<span class="hl opt">,</span>
<span class="hl lin" id="L_136">  136 </span>  expectsBoolean <span class="hl opt">=</span> expectsBoolean<span class="hl opt">,</span>
<span class="hl lin" id="L_137">  137 </span>  expectsTable <span class="hl opt">=</span> expectsTable<span class="hl opt">,</span>
<span class="hl lin" id="L_138">  138 </span>  exceptType <span class="hl opt">=</span> exceptType<span class="hl opt">,</span>
<span class="hl lin" id="L_139">  139 </span>  exceptNumber <span class="hl opt">=</span> exceptNumber<span class="hl opt">,</span>
<span class="hl lin" id="L_140">  140 </span>  exceptString <span class="hl opt">=</span> exceptString<span class="hl opt">,</span>
<span class="hl lin" id="L_141">  141 </span>  exceptFunction <span class="hl opt">=</span> exceptFunction<span class="hl opt">,</span>
<span class="hl lin" id="L_142">  142 </span>  exceptThread <span class="hl opt">=</span> exceptThread<span class="hl opt">,</span>
<span class="hl lin" id="L_143">  143 </span>  exceptUserdata <span class="hl opt">=</span> exceptUserdata<span class="hl opt">,</span>
<span class="hl lin" id="L_144">  144 </span>  exceptNil <span class="hl opt">=</span> exceptNil<span class="hl opt">,</span>
<span class="hl lin" id="L_145">  145 </span>  exceptBoolean <span class="hl opt">=</span> exceptBoolean<span class="hl opt">,</span>
<span class="hl lin" id="L_146">  146 </span>  exceptTable <span class="hl opt">=</span> exceptTable<span class="hl opt">,</span>
<span class="hl lin" id="L_147">  147 </span>  getsStringForced <span class="hl opt">=</span> getsStringForced<span class="hl opt">,</span>
<span class="hl lin" id="L_148">  148 </span>  getsOdd <span class="hl opt">=</span> getsOdd<span class="hl opt">,</span>
<span class="hl lin" id="L_149">  149 </span>  getsEven <span class="hl opt">=</span> getsEven
<span class="hl lin" id="L_150">  150 </span><span class="hl opt">}</span>
</pre>
</body>
</html>
<!--HTML generated by highlight 3.53, http://www.andre-simon.de/-->
